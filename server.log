
> astralis-agency@1.0.0 dev
> yarn generate:server-env && PORT=4000 nodemon --exec tsx server.ts

yarn run v1.22.19
$ node scripts/generate-server-env.js
âœ… Generated server environment variables at /Users/gregstarr/projects/dev/AstralisAgencyServer/server/.env
Done in 0.20s.
[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): server/src/**/* server.ts[39m
[33m[nodemon] watching extensions: ts,js,json[39m
[32m[nodemon] starting `tsx server.ts`[39m

node:internal/process/esm_loader:40
      internalBinding('errors').triggerUncaughtException(
                                ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find module '/Users/gregstarr/projects/dev/AstralisAgencyServer/server/src/routes/controllers/enhanced/marketplaceController.js' imported from /Users/gregstarr/projects/dev/AstralisAgencyServer/server/src/routes/enhanced/marketplace.ts
    at new NodeError (node:internal/errors:405:5)
    at finalizeResolution (node:internal/modules/esm/resolve:327:11)
    at moduleResolve (node:internal/modules/esm/resolve:980:10)
    at defaultResolve (node:internal/modules/esm/resolve:1206:11)
    at nextResolve (node:internal/modules/esm/hooks:864:28)
    at resolveBase (file:///Users/gregstarr/projects/dev/AstralisAgencyServer/node_modules/tsx/dist/esm/index.mjs?1754462375137:2:3811)
    at async resolveDirectory (file:///Users/gregstarr/projects/dev/AstralisAgencyServer/node_modules/tsx/dist/esm/index.mjs?1754462375137:2:4304)
    at async resolve (file:///Users/gregstarr/projects/dev/AstralisAgencyServer/node_modules/tsx/dist/esm/index.mjs?1754462375137:2:5422)
    at async nextResolve (node:internal/modules/esm/hooks:864:22)
    at async Hooks.resolve (node:internal/modules/esm/hooks:302:24) {
  url: 'file:///Users/gregstarr/projects/dev/AstralisAgencyServer/server/src/routes/controllers/enhanced/marketplaceController.js',
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v18.20.8
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `tsx server.ts`[39m
Database URL: postgresql://gregstarr@localhost:5432/astralis?schema=public
Server running on port 4000
Connected to PostgreSQL via Prisma
prisma:info Starting a postgresql pool with 13 connections.
Connected to PostgreSQL via Prisma
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."name", "public"."users"."password", "public"."users"."avatar", "public"."users"."bio", "public"."users"."role"::text, "public"."users"."createdAt", "public"."users"."updatedAt" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `tsx server.ts`[39m
Database URL: postgresql://gregstarr@localhost:5432/astralis?schema=public
Server running on port 4000
Connected to PostgreSQL via Prisma
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `tsx server.ts`[39m
Database URL: postgresql://gregstarr@localhost:5432/astralis?schema=public
Server running on port 4000
Connected to PostgreSQL via Prisma
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `tsx server.ts`[39m
Database URL: postgresql://gregstarr@localhost:5432/astralis?schema=public
Server running on port 4000
Connected to PostgreSQL via Prisma
SSR: Processing product page for slug: digital-marketing-strategy-consultation
SSR: Using build file: /Users/gregstarr/projects/dev/AstralisAgencyServer/build/index.html
SSR: Successfully rendered product page for: Digital Marketing Strategy Consultation
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `tsx server.ts`[39m
Database URL: postgresql://gregstarr@localhost:5432/astralis?schema=public
Server running on port 4000
Connected to PostgreSQL via Prisma
SSR: Test endpoint hit
SSR: Processing product page for slug: digital-marketing-strategy-consultation
SSR: Using build file: /Users/gregstarr/projects/dev/AstralisAgencyServer/build/index.html
SSR: Successfully rendered product page for: Digital Marketing Strategy Consultation
SSR: Processing product page for slug: digital-marketing-strategy-consultation
SSR: Using build file: /Users/gregstarr/projects/dev/AstralisAgencyServer/build/index.html
SSR: Successfully rendered product page for: Digital Marketing Strategy Consultation
SSR: Processing product page for slug: digital-marketing-strategy-consultation
SSR: Using build file: /Users/gregstarr/projects/dev/AstralisAgencyServer/build/index.html
SSR: Successfully rendered product page for: Digital Marketing Strategy Consultation
SSR: Processing product page for slug: digital-marketing-strategy-consultation
SSR: Using build file: /Users/gregstarr/projects/dev/AstralisAgencyServer/build/index.html
SSR: Successfully rendered product page for: Digital Marketing Strategy Consultation
prisma:info Starting a postgresql pool with 13 connections.
Connected to PostgreSQL via Prisma
Shutting down gracefully...
Shutting down gracefully...
Database connections closed.
